<!--<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRUD de Firebase</title>
  <script type="module" src="./modules/firestore_service.js"></script>
</head>
<body>
  <h1>Ver Todos los Registros de la Base de Datos</h1>

  <!- Bot贸n para cargar los registros ->
  <button id="loadDataButton">Mostrar Datos</button>
  <div>
    <h2>Add Zoo</h2>
    <label for="zooId">ID del Zool贸gico:</label>
    <input type="text" id="zooId" placeholder="Ejemplo: zoo123">
    
    <label for="zooName">Nombre del Zool贸gico:</label>
    <input type="text" id="zooName" placeholder="Ejemplo: Zool贸gico Nacional">
  
    <button id="saveZooBtn">Guardar Zool贸gico</button>
  </div>

  <div>
    <h2>Add Animal</h2>
    <label for="zooIdAnimal">ID del Zool贸gico:</label>
    <input type="text" id="zooIdAnimal" placeholder="Ejemplo: zoo123">
    
    <label for="animalId">ID del Animal:</label>
    <input type="text" id="animalId" placeholder="Ejemplo: animal456">
    
    <label for="animalName">Nombre del Animal:</label>
    <input type="text" id="animalName" placeholder="Ejemplo: Le贸n">
  
    <label for="animalSpecies">Especie del Animal:</label>
    <input type="text" id="animalSpecies" placeholder="Ejemplo: Le贸n">
  
    <label for="animalAge">Edad del Animal (en a帽os):</label>
    <input type="number" id="animalAge" placeholder="Ejemplo: 5">
  
    <button id="addAnimalBtn">Agregar Animal</button>
  </div>

  <div>
    <h2>Add ZooKeeper</h2>
    <label for="staff">Staff:</label>
    <input type="text" id="staff" placeholder="Ejemplo: Staff1">
    
    <label for="idZookeeper">Zookeeper ID:</label>
    <input type="text" id="idZookeeper" placeholder="Ejemplo: Juan">

    <label for="nameZookeeper">Zookeeper name.:</label>
    <input type="text" id="nameZookeeper" placeholder="Ejemplo: Juan">

    <label for="hireDate">Hire date:</label>
    <input type="date" id="hireDate" placeholder="Ejemplo: 15/02/24">

    <label for="lastName">Lastname:</label>
    <input type="text" id="lastName" placeholder="Ejemplo: Rodriguez">

    <label for="phone">Phone:</label>
    <input type="number" id="phone" placeholder="Ejemplo: 3118025836">
  
    <button id="saveZookeeperBtn">Guardar Zookeeper</button>
  </div>

  <div>
    <h2>Ver Animales de un Zool贸gico</h2>
    <label for="zooIdView">ID del Zool贸gico:</label>
    <input type="text" id="zooIdView" placeholder="Ejemplo: zoo123">
  
    <button id="viewAnimalsBtn">Ver Animales</button>
  
    <div id="animalList"></div>
  </div>

  <div>
    <h2>Add enclosures</h2>
    <label for="staffenclosures">Staff:</label>
    <input type="text" id="staffenclosures" placeholder="Ejemplo: Staff1">
    
    <label for="enclosuresManaged">Enclosures Managed:</label>
    <input type="text" id="enclosuresManaged" placeholder="Ejemplo: 1234">
    
    <label for="idEnclosures">Enclosures:</label>
    <input type="text" id="idEnclosures" placeholder="Ejemplo: LLano">
  
    <button id="addEnclosuresBtn">Add Enclosures</button>
  </div>

  <div>
    <h2>Filtrar Animales por Especie</h2>
    <label for="zooIdSpecies">ID del Zool贸gico:</label>
    <input type="text" id="zooIdSpecies" placeholder="Ejemplo: zoo123">
  
    <label for="speciesFilter">Especie:</label>
    <input type="text" id="speciesFilter" placeholder="Ejemplo: Le贸n">
  
    <button id="filterBySpeciesBtn">Filtrar por Especie</button>
  
    <div id="speciesList"></div>
  </div>
  

  <script type="module">
    import { createZoo, addAnimal, addzookeeper, addEnclosures, getAnimalsByZoo, getAnimalsBySpecies } from './modules/firestore_service.js';
  
    // Obtener el bot贸n por su id
    const loadDataButton = document.getElementById('loadDataButton');

    // Cuando el bot贸n se haga clic, ejecutar la funci贸n
    loadDataButton.addEventListener('click', async () => {
      // Importar la funci贸n 'mostrarTodo' y llamarla
      const { mostrarTodo } = await import('./modules/firestore_service.js');
      await mostrarTodo();  // Ejecutar la funci贸n que muestra los datos
    });

    // Crear Zool贸gico
  document.getElementById("saveZooBtn").addEventListener("click", async () => {
    const zooId = document.getElementById("zooId").value;
    const zooName = document.getElementById("zooName").value;
    
    // Llamamos a la funci贸n para guardar el zool贸gico
    await createZoo(zooId, zooName);
    alert("Zool贸gico guardado.");
  });

      // Crear Zool贸gico
      document.getElementById("saveZookeeperBtn").addEventListener("click", async () => {
        const Staff = document.getElementById("staff").value;
        const idZookeeper = document.getElementById("idZookeeper").value;
        
        // Llamamos a la funci贸n para guardar el zool贸gico
        await addzookeeper(Staff, idZookeeper);
        alert("Zookeeper guardado.");
      });

  // Agregar Animal
  document.getElementById("addAnimalBtn").addEventListener("click", async () => {
    const zooId = document.getElementById("zooIdAnimal").value;
    const animalId = document.getElementById("animalId").value;
    const name = document.getElementById("animalName").value;
    const species = document.getElementById("animalSpecies").value;
    const age = parseInt(document.getElementById("animalAge").value);

    const animalData = { name, species, age };

    // Llamamos a la funci贸n para agregar el animal
    await addAnimal(zooId, animalId, animalData);
    alert("Animal agregado.");
  });

   // Agregar Enclosures
   document.getElementById("addEnclosuresBtn").addEventListener("click", async () => {
    const staffenclosures = document.getElementById("staffenclosures").value;
    const enclosuresManaged = document.getElementById("enclosuresManaged").value;
    const idEnclosures = document.getElementById("idEnclosures").value;
    const namezookeeper = document.getElementById("namezookeeper").value;
    const hireDate = document.getElementById("hireDate").value;
    const lastName = document.getElementById("lastName").value;
    const phone = document.getElementById("phone").value;
    
    
    const zookeeperData = {name, hire_date, last_name, phone}

    // Llamamos a la funci贸n para agregar el animal
    await addEnclosures(idZookeeper, idEnclosures);
    alert("Enclosures add.");
  });

  // Ver Animales de un Zool贸gico
  document.getElementById("viewAnimalsBtn").addEventListener("click", async () => {
    const zooId = document.getElementById("zooIdView").value;
    
    // Llamamos a la funci贸n para obtener los animales del zool贸gico
    const animals = await getAnimalsByZoo(zooId);
    
    // Mostramos los animales en la p谩gina
    const animalList = document.getElementById("animalList");
    animalList.innerHTML = "";
    animals.forEach(animal => {
      const card = document.createElement("div");
      card.className = "animal-card";
      card.textContent = ` ${animal.name} (${animal.species}) - ${animal.age} a帽os`;
      animalList.appendChild(card);
    });
  });

  // Filtrar Animales por Especie
  document.getElementById("filterBySpeciesBtn").addEventListener("click", async () => {
    const zooId = document.getElementById("zooIdSpecies").value;
    const species = document.getElementById("speciesFilter").value;
    
    // Llamamos a la funci贸n para obtener los animales filtrados
    const animals = await getAnimalsBySpecies(zooId, species);
    
    // Mostramos los animales filtrados
    const speciesList = document.getElementById("speciesList");
    speciesList.innerHTML = "";
    animals.forEach(animal => {
      const card = document.createElement("div");
      card.className = "animal-card";
      card.textContent = ` ${animal.name} - ${animal.species}`;
      speciesList.appendChild(card);
    });
  });
  </script>
</body>
</html>-->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRUD de Firebase</title>
  <script type="module" src="./modules/firestore_service.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #e8f5e9, #ffffff);
      margin: 0;
      padding: 20px;
      color: #2e7d32;
    }

    h1 {
      text-align: center;
      color: #1b5e20;
      margin-bottom: 30px;
    }

    h2 {
      color: #388e3c;
      border-left: 6px solid #66bb6a;
      padding-left: 10px;
      margin-top: 40px;
    }

    div {
      max-width: 900px;
      margin: 20px auto;
      background-color: #ffffff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background-color: #66bb6a;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #43a047;
    }

    .animal-card {
      background-color: #f1f8e9;
      border-left: 6px solid #81c784;
      padding: 12px;
      margin-top: 10px;
      border-radius: 8px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Ver Todos los Registros de la Base de Datos</h1>

  <button id="loadDataButton">Mostrar Datos</button>
  <div>
    <h2>Add Zoo</h2>
    <label for="zooId">ID del Zool贸gico:</label>
    <input type="text" id="zooId" placeholder="Ejemplo: zoo123">
    
    <label for="zooName">Nombre del Zool贸gico:</label>
    <input type="text" id="zooName" placeholder="Ejemplo: Zool贸gico Nacional">
  
    <button id="saveZooBtn">Guardar Zool贸gico</button>
  </div>

  <div>
    <h2>Add Animal</h2>
    <label for="zooIdAnimal">ID del Zool贸gico:</label>
    <input type="text" id="zooIdAnimal" placeholder="Ejemplo: zoo123">
    
    <label for="animalId">ID del Animal:</label>
    <input type="text" id="animalId" placeholder="Ejemplo: animal456">
    
    <label for="animalName">Nombre del Animal:</label>
    <input type="text" id="animalName" placeholder="Ejemplo: Le贸n">
  
    <label for="animalSpecies">Especie del Animal:</label>
    <input type="text" id="animalSpecies" placeholder="Ejemplo: Le贸n">
  
    <label for="animalAge">Edad del Animal (en a帽os):</label>
    <input type="number" id="animalAge" placeholder="Ejemplo: 5">
  
    <button id="addAnimalBtn">Agregar Animal</button>
  </div>

  <div>
    <h2>Add ZooKeeper</h2>
    <label for="staff">Staff:</label>
    <input type="text" id="staff" placeholder="Ejemplo: Staff1">
    
    <label for="idZookeeper">Zookeeper ID:</label>
    <input type="text" id="idZookeeper" placeholder="Ejemplo: Juan">

    <label for="nameZookeeper">Zookeeper name.:</label>
    <input type="text" id="nameZookeeper" placeholder="Ejemplo: Juan">

    <label for="hireDate">Hire date:</label>
    <input type="date" id="hireDate" placeholder="Ejemplo: 15/02/24">

    <label for="lastName">Lastname:</label>
    <input type="text" id="lastName" placeholder="Ejemplo: Rodriguez">

    <label for="phone">Phone:</label>
    <input type="number" id="phone" placeholder="Ejemplo: 3118025836">
  
    <button id="saveZookeeperBtn">Guardar Zookeeper</button>
  </div>

  <div>
    <h2>Ver Animales de un Zool贸gico</h2>
    <label for="zooIdView">ID del Zool贸gico:</label>
    <input type="text" id="zooIdView" placeholder="Ejemplo: zoo123">
  
    <button id="viewAnimalsBtn">Ver Animales</button>
  
    <div id="animalList"></div>
  </div>

  <div>
    <h2>Add enclosures</h2>
    <label for="staffenclosures">Staff:</label>
    <input type="text" id="staffenclosures" placeholder="Ejemplo: Staff1">
    
    <label for="enclosuresManaged">Enclosures Managed:</label>
    <input type="text" id="enclosuresManaged" placeholder="Ejemplo: 1234">
    
    <label for="idEnclosures">Enclosures:</label>
    <input type="text" id="idEnclosures" placeholder="Ejemplo: LLano">
  
    <button id="addEnclosuresBtn">Add Enclosures</button>
  </div>

  <div>
    <h2>Filtrar Animales por Especie</h2>
    <label for="zooIdSpecies">ID del Zool贸gico:</label>
    <input type="text" id="zooIdSpecies" placeholder="Ejemplo: zoo123">
  
    <label for="speciesFilter">Especie:</label>
    <input type="text" id="speciesFilter" placeholder="Ejemplo: Le贸n">
  
    <button id="filterBySpeciesBtn">Filtrar por Especie</button>
  
    <div id="speciesList"></div>
  </div>
  
  <script type="module">
    import { createZoo, addAnimal, addzookeeper, addEnclosures, getAnimalsByZoo, getAnimalsBySpecies } from './modules/firestore_service.js';
  
    const loadDataButton = document.getElementById('loadDataButton');
    loadDataButton.addEventListener('click', async () => {
      const { mostrarTodo } = await import('./modules/firestore_service.js');
      await mostrarTodo();
    });

    document.getElementById("saveZooBtn").addEventListener("click", async () => {
      const zooId = document.getElementById("zooId").value;
      const zooName = document.getElementById("zooName").value;
      await createZoo(zooId, zooName);
      alert("Zool贸gico guardado.");
    });

    document.getElementById("saveZookeeperBtn").addEventListener("click", async () => {
      const Staff = document.getElementById("staff").value;
      const idZookeeper = document.getElementById("idZookeeper").value;
      await addzookeeper(Staff, idZookeeper);
      alert("Zookeeper guardado.");
    });

    document.getElementById("addAnimalBtn").addEventListener("click", async () => {
      const zooId = document.getElementById("zooIdAnimal").value;
      const animalId = document.getElementById("animalId").value;
      const name = document.getElementById("animalName").value;
      const species = document.getElementById("animalSpecies").value;
      const age = parseInt(document.getElementById("animalAge").value);
      const animalData = { name, species, age };
      await addAnimal(zooId, animalId, animalData);
      alert("Animal agregado.");
    });

    document.getElementById("addEnclosuresBtn").addEventListener("click", async () => {
      const staffenclosures = document.getElementById("staffenclosures").value;
      const enclosuresManaged = document.getElementById("enclosuresManaged").value;
      const idEnclosures = document.getElementById("idEnclosures").value;
      await addEnclosures(staffenclosures, idEnclosures);
      alert("Enclosures add.");
    });

    document.getElementById("viewAnimalsBtn").addEventListener("click", async () => {
      const zooId = document.getElementById("zooIdView").value;
      const animals = await getAnimalsByZoo(zooId);
      const animalList = document.getElementById("animalList");
      animalList.innerHTML = "";
      animals.forEach(animal => {
        const card = document.createElement("div");
        card.className = "animal-card";
        card.textContent = ` ${animal.name} (${animal.species}) - ${animal.age} a帽os`;
        animalList.appendChild(card);
      });
    });

    document.getElementById("filterBySpeciesBtn").addEventListener("click", async () => {
      const zooId = document.getElementById("zooIdSpecies").value;
      const species = document.getElementById("speciesFilter").value;
      const animals = await getAnimalsBySpecies(zooId, species);
      const speciesList = document.getElementById("speciesList");
      speciesList.innerHTML = "";
      animals.forEach(animal => {
        const card = document.createElement("div");
        card.className = "animal-card";
        card.textContent = ` ${animal.name} - ${animal.species}`;
        speciesList.appendChild(card);
      });
    });
  </script>
</body>
</html>
